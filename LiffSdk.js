!function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports } n.m = e, n.c = t, n.d = function (e, t, r) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r }) }, n.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (n.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function (t) { return e[t] }.bind(null, o)); return r }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, "a", t), t }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.p = "", n(n.s = 58) }({ 11: function (e, t, n) { "use strict"; e.exports = { pull: function (e) { try { var t = JSON.parse(sessionStorage.getItem("liffinfo")); e._auth = t._auth, e._features = t._features } catch (e) { } }, push: function (e) { try { sessionStorage.setItem("liffinfo", JSON.stringify({ _auth: e._auth, _features: e._features })) } catch (e) { console.log(e) } } } }, 18: function (e, t, n) { "use strict"; function r(e) { return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var o = ["userId", "type", "groupId", "roomId", "utouId", "squareId", "squareMemberId", "squareChatId", "viewType", "accessTokenHash"]; t.parse = function (e) { for (var t = e.substr(1).split("&"), n = {}, r = 0; r < t.length; r++) { var i = t[r].split("="); n[i[0]] = decodeURIComponent(i[1]) } var a = null; if (n.context_token) { a = {}; for (var f = this.parseContextToken(n.context_token), u = 0; u < o.length; u++) { var s = o[u]; a[s] = f[s] } } var l = { accessToken: n.access_token, featureToken: n.feature_token, context: a }; return this.valid(l) }, t.parseContextToken = function (e) { try { var t = e.split(".")[1]; return JSON.parse(window.atob(t)) } catch (e) { console.error("invalid context_token") } }, t.valid = function (e) { if ("string" != typeof e.accessToken) throw new Error; if ("string" != typeof e.featureToken) throw new Error; return "object" === ("undefined" == typeof context ? "undefined" : r(context)) && o.map(function (t) { if ("string" != typeof e.context[t]) throw new Error }), e } }, 19: function (e, t, n) { "use strict"; var r = n(18), o = n(11), i = (n(3).default, { _auth: null, _features: [] }); o.pull(i); try { var a = r.parse(location.hash); delete a.context.accessTokenHash, i._auth = a } catch (e) { } o.push(i); var f, u = [], s = !1; if (window.addEventListener("liffEvent", function e(t) { (s = i._runTasks(u)) && window.removeEventListener("liffEvent", e, !1) }, !1), !window.CustomEvent) { var l = function (e, t) { var n; return t = t || { bubbles: !1, cancelable: !1, detail: void 0 }, (n = document.createEvent("CustomEvent")).initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n }; l.prototype = window.Event.prototype, window.CustomEvent = l } i.postMessage = function (e, t, n, r) { var o = n || ""; try { var a = JSON.stringify(r); s ? window._liff.postMessage(e, t, o, a) : u.push([e, o, a]) } catch (e) { i._dispatchErrorEvent(e) } }, i._runTasks = function (e) { if (window._liff && window._liff.postMessage) { for (; e.length > 0;) { var t = e.shift(); window._liff.postMessage(t[0], t[1], t[2]) } return !0 } return !1 }, i._createNativeMessageEvent = function (e) { return new CustomEvent("liffEvent", { detail: e }) }, i._dispatchEvent = function (e) { var t = {}; try { if ("ready" === (t = JSON.parse(e)).type) { if (t.language || (t.language = "[object Array]" === Object.prototype.toString.call(navigator.languages) ? navigator.languages[0] : navigator.language), f) return; f = !0, t.auth = i._auth } var n = i._createNativeMessageEvent(t); window.dispatchEvent(n) } catch (e) { i._dispatchErrorEvent(e) } }, i._dispatchErrorEvent = function (e) { var t = e + "", n = i._createNativeMessageEvent({ type: "error", callbackId: "", data: {}, error: { message: t } }); window.dispatchEvent(n) }, window.liff = i }, 20: function (e, t, n) { "use strict"; n(19), liff.init = function () { "function" == typeof (arguments.length <= 0 ? void 0 : arguments[0]) && (liff._init = arguments.length <= 0 ? void 0 : arguments[0]), "function" == typeof (arguments.length <= 1 ? void 0 : arguments[1]) && (liff._initErrorHandler = arguments.length <= 1 ? void 0 : arguments[1]), liff._error && liff._initErrorHandler && liff._initErrorHandler(liff._error), liff._init && liff._initData && (liff._init(liff._initData), delete liff._init) } }, 3: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e, t) { var n = new Error(t); return n.code = e, n } }, 33: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = void 0; var r = { liffVersionMapping: [["1.0.0", "0.0.0", "0.0.0"]], JS_BASE: "https://d.line-scdn.net/n/liff" }; t.default = r }, 34: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e, t, n) { var r = document.createElement("script"); r.src = e, t && (r.onload = t), n && (r.onerror = n), document.getElementsByTagName("head")[0].appendChild(r) } }, 36: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function () { var e = window.navigator.userAgent.toLowerCase(); if (/iphone|ipad|ipod/.test(e)) return "ios"; if (/android/.test(e)) return "android"; return "other" } }, 56: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e) { var t = (0, o.default)(); if ("other" === t) return e[e.length - 1][0]; var n = e.map(function (e) { return e.map(i) }), r = n[0][0], a = navigator.userAgent.toLowerCase().match(/line\/([\d|\.]+)/); if (a) for (var f = i(a[1]), u = "ios" === t ? 1 : 2, s = 0, l = n.length; s < l && (f[0] >= n[s][u][0] && f[1] >= n[s][u][1] && f[2] >= n[s][u][2]); s++)r = n[s][0]; else r = n[n.length - 1][0]; return r.join(".") }, t.parseVersionToArray = void 0; var r, o = (r = n(36)) && r.__esModule ? r : { default: r }; var i = function (e) { for (var t = e.split(".").map(Number); t.length < 3;)t.push(0); return t }; t.parseVersionToArray = i }, 57: function (e, t, n) { "use strict"; var r = u(n(34)), o = u(n(36)), i = u(n(56)), a = u(n(33)), f = u(n(3)); function u(e) { return e && e.__esModule ? e : { default: e } } n(20), liff._version = "1.0", liff._nativeVersion = (0, i.default)(a.default.liffVersionMapping); liff._revision = 1537339826529; var s = function (e, t, n) { var i = (0, o.default)(); (0, r.default)("".concat(a.default.JS_BASE, "/").concat(liff._version, "/").concat(i, "/").concat(liff._nativeVersion, "/").concat(e, "_").concat(1537339826529, ".js"), t, n) }, l = function () { liff._error = (0, f.default)("INIT_FAILED", "Failed to init LIFF SDK"), liff._initErrorHandler && liff._initErrorHandler(liff._error) }; "function" == typeof window.Promise ? s("base", null, l) : (s("plugins/promise", null, l), liff._promiseInit = function () { s("base", null, l), delete liff._promiseInit }) }, 58: function (e, t, n) { e.exports = n(57) } });